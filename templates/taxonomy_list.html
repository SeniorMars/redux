{% extends "base.html" %}

{% block main_content %}
  <div>
    {% block title %}
      {{ post_macros::page_header(title=taxonomy.name | capitalize) }}
    {% endblock title %}

    <main class="tag-list">
      {% set sort_by = config.extra.taxonomies.sort_by | default(value="name") %}
      {% set terms = terms | default(value=[]) | sort(attribute=sort_by) %}
      {% if config.extra.taxonomies.reverse | default(value=false) %}
        {% set terms = terms | reverse %}
      {% endif %}

      <ul class="tags">
        {%- for term in terms %}
          <li class="term-row">
            <a class="term-name" href="{{ term.permalink | safe }}">{{ term.name }}</a>
            <small class="meta">
              {{ term.page_count }} post{{ term.page_count | pluralize }}
            </small>
          </li>
        {%- endfor %}
      </ul>
    </main>
  </div>
{% endblock main_content %}
